# NCL Risk Simulation & Analytics (2010‚Äì2015)

–ë–∏–∑–Ω–µ—Å‚Äë–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ç–æ—Ç–∏–ø —Å–∏–º—É–ª—è—Ü–∏–∏ –∫—Ä–µ–¥–∏—Ç–Ω–æ–≥–æ –ø–æ—Ä—Ç—Ñ–µ–ª—è –∏ —Ä–∏—Å–∫‚Äë–∞–Ω–∞–ª–∏—Ç–∏–∫–∏ —Å –¥–∞—à–±–æ—Ä–¥–æ–º. –ü–µ—Ä–∏–æ–¥ –¥–∞–Ω–Ω—ã—Ö: 2010‚Äì2015.

## üöÄ –ó–∞–ø—É—Å–∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å—ë)

```bash
# Windows PowerShell (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
.\start_all.ps1

# Windows CMD
.\start_all.bat

# Linux/Mac
chmod +x start_all.sh
./start_all.sh
```

–û—Ç–∫—Ä–æ–µ—Ç—Å—è **NCL Analytics Platform**:
- üè† **–ì–ª–∞–≤–Ω–∞—è** (http://localhost:8000) - –ª–µ–Ω–¥–∏–Ω–≥ —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
- üìä **–î–∞—à–±–æ—Ä–¥** (http://localhost:8050) - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å
- ü§ñ **AI-–∞–≥–µ–Ω—Ç** (http://localhost:8501) - —á–∞—Ç —Å GPT

### –°–∫—Ä–∏–Ω—à–æ—Ç—ã

| –ì–ª–∞–≤–Ω–∞—è | –î–∞—à–±–æ—Ä–¥ | AI‚Äë–∞–≥–µ–Ω—Ç |
|---|---|---|
| (—Å–∫—Ä–∏–Ω) | (—Å–∫—Ä–∏–Ω) | (—Å–∫—Ä–∏–Ω) |

### –ü–æ—à–∞–≥–æ–≤—ã–π –∑–∞–ø—É—Å–∫

1) **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–µ–¥–∏–Ω—ã–π requirements)**
```bash
pip install -r requirements.txt
```

2) **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–¥–µ–ª–∞–Ω–æ)
```bash
python -m credit_simulation.src.main
python -m credit_simulation.src.module2_simulator
```

3) **–ó–∞–ø—É—Å–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏**

```bash
# –õ–µ–Ω–¥–∏–Ω–≥ (–ø–æ—Ä—Ç 8000)
cd landing && python server.py

# –î–∞—à–±–æ—Ä–¥ (–ø–æ—Ä—Ç 8050)
python -m credit_simulation.src.dashboard_app --conn "sqlite:///credit_sim.db" --port 8050

# AI-–∞–≥–µ–Ω—Ç (–ø–æ—Ä—Ç 8501)
cd ai_agent && streamlit run app_streamlit_advanced.py
```

## ü§ñ AI-–∞–≥–µ–Ω—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞–≥–µ–Ω—Ç –Ω–∞ LangChain + OpenAI GPT** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ —Å–∏–º—É–ª—è—Ü–∏–∏.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- üí¨ –í–æ–ø—Ä–æ—Å—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º ‚Üí SQL ‚Üí –ü–æ–Ω—è—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
- üìä Streamlit –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ (Plotly)
- üîß CLI + –ø–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ + –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π API
- üìà –ê–Ω–∞–ª–∏–∑ —Ä–∏—Å–∫-–º–µ—Ç—Ä–∏–∫ (PAR, DPD, IFRS9, Vintages)

**–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:**
```bash
cd ai_agent
pip install -r requirements.txt

# Streamlit –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
streamlit run app_streamlit_advanced.py
# ‚Üí http://localhost:8501

# –ò–ª–∏ CLI
python cli.py
```

**–ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤:**
- "–°–∫–æ–ª—å–∫–æ –∫—Ä–µ–¥–∏—Ç–æ–≤ –≤ –±–∞–∑–µ?"
- "–ö–∞–∫–∞—è –¥–æ–ª—è –ø–æ—Ä—Ç—Ñ–µ–ª—è –≤ –ø—Ä–æ—Å—Ä–æ—á–∫–µ 30+?"
- "–¢–æ–ø-5 –º–µ—Å—è—Ü–µ–≤ –ø–æ –æ–±—ä–µ–º—É –≤—ã–¥–∞—á"
- "–î–∏–Ω–∞–º–∏–∫–∞ PAR30 –≤ 2014-2015"

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ–± AI‚Äë–∞–≥–µ–Ω—Ç–µ —Å–º. —Ä–∞–∑–¥–µ–ª—ã –≤—ã—à–µ –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ (–µ–¥–∏–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è).

> –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: API‚Äë–∫–ª—é—á–∏ –∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã –Ω–µ –∫–æ–º–º–∏—Ç—è—Ç—Å—è. –°–º. —Ä–∞–∑–¥–µ–ª ¬´–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å¬ª –Ω–∏–∂–µ.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- `credit_simulation/src/generators` ‚Äì –≤—ã–¥–∞—á–∏, –º–∞–∫—Ä–æ/—Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—å
- `credit_simulation/src/module2_simulator.py` ‚Äì –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–∫—Ç (–∞–Ω–Ω—É–∏—Ç–µ—Ç, DPD‚Äë—ç–π–¥–∂–∏–Ω–≥, cure/default)
- `credit_simulation/src/analysis_*.py` ‚Äì –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (DPD, PAR, IFRS9, Cure/Default, Vintages)
- `credit_simulation/src/dashboard_app.py` ‚Äì –¥–∞—à–±–æ—Ä–¥ (Dash/Plotly)
- `credit_simulation/sql` ‚Äì DDL SQL (—Ç–∞–±–ª–∏—Ü—ã)
- `credit_simulation/config/config.toml` ‚Äì –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è + `[descriptions]` (–ø–æ—è—Å–Ω–µ–Ω–∏—è –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º)
- `ai_agent/` ‚Äì ü§ñ AI-–∞–≥–µ–Ω—Ç –Ω–∞ LangChain + OpenAI GPT –¥–ª—è NLP-–∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –¥–∞–Ω–Ω—ã–º

–°–ª–æ–∏ (—Ü–µ–ª—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞):
- Domain: Engines (Schedule/Delinquency/Cure), Models (Loan/Fact)
- Infrastructure: Repositories (loan_issue, credit_fact_history), Migrations
- Application: Simulator Orchestrator, Analytics, Dashboard

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `[simulation]` ‚Äì –ø–µ—Ä–∏–æ–¥, –±–∞–∑–æ–≤–∞—è –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –≤—ã–¥–∞—á
- `[loan_parameters]` ‚Äì —Å—É–º–º—ã/—Å—Ä–æ–∫–∏
- `[sensitivity]` ‚Äì —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫ –º–∞–∫—Ä–æ
- `[database]` ‚Äì —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- `[collections]` ‚Äì DPD‚Äë–ø—Ä–∞–≤–∏–ª–∞, cure –∏ –ø–æ–ª–∏—Ç–∏–∫–∞ –æ–ø–ª–∞—Ç—ã –ø–æ –±–∞–∫–µ—Ç–∞–º
- `[descriptions]` ‚Äì –æ–ø–∏—Å–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (—á–∏—Ç–∞—é—Ç—Å—è –≤ –¥–∞—à–±–æ—Ä–¥–µ)

## –ú–µ—Ç—Ä–∏–∫–∏ (–¥–ª—è –±–∏–∑–Ω–µ—Å–∞)
- DPD: –¥–æ–ª–∏ 0/1‚Äì30/31‚Äì60/61‚Äì90/90+
- PAR30/60/90 (–ø–æ –±–∞–ª–∞–Ω—Å—É)
- IFRS9 Stage mix (proxy)
- Cure rate / Default rate
- Payments: Actual/Scheduled
- Vintages: PD 12m
- Issuance: –æ–±—ä—ë–º—ã/–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ/—Å—Ä–µ–¥–Ω–∏–π —á–µ–∫/—Å—Ç–∞–≤–∫–∞

## –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è Pydantic‚Äë–º–æ–¥–µ–ª—å—é (`credit_simulation/src/utils/settings.py`).
- DDL –≤—ã–Ω–µ—Å–µ–Ω –≤ SQL (`sql/create_tables.sql`, `sql/create_fact_tables.sql`).
- –î–æ–∫—Å—Ç—Ä–∏–Ω–≥–∏ ‚Äî Google style.

## –¢–µ—Å—Ç—ã (–ø–ª–∞–Ω)
- –ê–Ω–Ω—É–∏—Ç–µ—Ç/–∞–ª–ª–æ–∫–∞—Ü–∏—è
- DPD‚Äë—ç–π–¥–∂–∏–Ω–≥ –∏ cure
- Roll‚Äërate, PAR, Stage mix

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ Git

- –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `ai_agent/env.example` –∏ —Å–æ–∑–¥–∞–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ `ai_agent/.env`.
- –í `.gitignore` –¥–æ–±–∞–≤–ª–µ–Ω—ã –ª–æ–≥–∏, –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã, –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã.
- –§–∞–π–ª –∫–ª—é—á–µ–π `.env` –∏—Å–∫–ª—é—á–µ–Ω –∏–∑ git; –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–¥ –ø—É—à–µ–º: `git status`.
- –î–ª—è –æ–±–º–µ–Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞–º–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞—Ç–∞–ª–æ–≥ `docs/img` (–±–µ–∑ –¥–∞–Ω–Ω—ã—Ö –∏ –ª–æ–≥–æ–≤).
